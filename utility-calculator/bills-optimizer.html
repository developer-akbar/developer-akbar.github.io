<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles/global.css" />
    <link rel="stylesheet" type="text/css" href="styles/bills-optimizer.css" />
    <title>Bill Payment Strategy Optimizer</title>
</head>

<body>
    <header>
        <div class="navbar">
            <div class="nav-logo">
                <div class="logo">
                    <a class="logo-name" href="home.html">AKart</a>
                </div>
            </div>
            <div class="nav-menu">
                <a class="border" href="cal-utility.html">Utility Calcuator</a>
                <a class="border" href="bills-optimizer.html">Bills Optimizer</a>
            </div>
        </div>
        <div class="scroll-indicator"></div>
    </header>
    <main>
        <div class="flex justify-center">
            <h1 class="main-heading">Bill Payment Strategy</h1>
            <i class="fa-solid fa-circle-info collapsible" title="About"></i>            
        </div>
        <div class="collapsible-content about-bill-optimizer">
            <p class="about-description">Welcome to the Bill Payment Optimizer! This tool helps you efficiently manage your bills and digital wallet balances.
            Enter your bills and wallet balances, and let the optimizer tool suggest an optimal payment strategy for you.
            It calculates the best way to  pay your bills from your available wallets, minimizing additional expenses from your pocket</p>
            <h3>Key Features:</h3>
            <ol>
                <li>Optimize Payments:
                    <ul>
                        <li>Input your bills and wallet balances.</li>
                        <li>Click "Optimize" button to receive a strategy that minimized out-of-pocket expenses</li>
                        <li>See a breakdown of which bills are paid from each wallet.</li>
                    </ul>
                </li>
                <li>Save Strategies:
                    <ul>
                        <li>Save your optimized payment strategy results for the future reference</li>
                        <li>Easily recall and view your saved strategies in the dedicated "Saved Strategies" section.</li>
                    </ul>
                </li>
                <li>Recalculate Anytime:
                    <ul>
                        <li>At any point, recalculate a saved strategy to adapt to changes in your bills.</li>
                    </ul>
                </li>
                <li>Delete Strategies:
                    <ul>
                        <li>Remove saved strategy if you no longer need with the delete option</li>
                    </ul>
                </li>
            </ol>
            <h3>How to use:</h3>
            <ol>
                <li>Enter your bills, separating them with commas.</li>
                <li>Enter your digital wallet balances, separated by commas.</li>
                <li>Click the "Optimize" button.</li>
                <li>The tool will provide a details strategy, showing which bill amounts are paid from each wallet.</li>
                <li>Save the resulted strategy for future use or delete it when no longer needed.</li>
                <li>Easily access and recalculate saved strategies from the "Saved Strategies" section.</li>
            </ol>
            <div class="center-content">
                <button class="button small-button collapsible">Close</button>
            </div>
            
        </div>
        
        <section class="main-section">
            <form>
                <div class="form-fields">
                    <div class="form-field bill-values">
                        <label for="bills">Bills (comma-separated)</label>
                        <!-- <input type="text" id="bills"
                            oninput="this.value = this.value.replace(/[^0-9,]/g, '').replace(/(\,,*?)\,,*/g, '$1');"
                            required> -->

                        <textarea id="bills"
                            oninput="this.value = this.value.replace(/[^0-9,]/g, '').replace(/(\,,*?)\,,*/g, '$1');"
                            required></textarea>
                    </div>

                    <div class="form-field wallet-values">
                        <label for="balances">Wallet balances (comma-separated)</label>
                        <!-- <input type="text" id="balances"
                            oninput="this.value = this.value.replace(/[^0-9,]/g, '').replace(/(\,,*?)\,,*/g, '$1');"
                            required> -->

                        <textarea type="text" id="balances"
                            oninput="this.value = this.value.replace(/[^0-9,]/g, '').replace(/(\,,*?)\,,*/g, '$1');"
                            required></textarea>
                    </div>

                    <div class="form-field cal-button">
                        <button type="button" class="button submit-button"
                            onclick="calculateOptimalStrategies()">Optimize</button>
                        <input type="reset" class="button clear-button" value="Clear" onclick="clearResults()">
                    </div>
                </div>
            </form>

            <div id="result-container" style="display: none;">
                <div class="loader" id="loader"></div>
                <table id="optimized-strategy"></table>
                <div id="unpaid-bills-container"></div>
            </div>
        </section>

        <div class="saved-strategies-heading flex align-center">
            <h2 class="margin-block">Saved Strategies</h2>
            <div class="flex margin-inline view-as">
                <i class="fa-solid fa-table-cells-large as-grid active" title="View as grid"></i>        
                <i class="fa-solid fa-bars as-list" title="View as list"></i>
            </div>
        </div>
        <div class="saved-strategies">
        </div>

        <button class="button small-button scroll-to-top" onclick="scrollToTop()">Scroll to top</button>
    </main>

    <script src="scripts/bills-optimizer.js"></script>
</body>
</html>
